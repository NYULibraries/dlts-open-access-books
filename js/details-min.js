YUI().use("node","event","io","jsonp","jsonp-url","json-parse","handlebars",function(e){function f(){e.io("../404.html",{on:{success:function(e,t){r.append(t.response)}}})}function l(){f()}function c(e,t){n.addClass("io-loading")}function h(e,t){n.removeClass("io-loading")}function p(e){try{r.append(a({items:e.response.docs}))}catch(t){}}var t="http://localhost:3000/book/",t="http://dev-discovery.dlib.nyu.edu:8080/solr3_discovery/nyupress/select?&wt=json&json.wrf=callback={callback}&fl=*&fq=id:",n=e.one("body"),r=e.one(".data-container"),i=[],s=/\/details\/(.*)/,o=location.pathname.match(s),u=e.one("#list-template").getHTML(),a=e.Handlebars.compile(u);e.on("io:start",c),e.on("io:success",p),e.on("io:failure",f),e.on("io:end",h),o&&o[1]?e.jsonp(t+encodeURIComponent(o[1]),{on:{success:p,failure:f,start:c,end:h,timeout:l},timeout:3e3}):f()});
