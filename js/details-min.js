YUI().use("node","event","io","json-parse","handlebars",function(e){function f(){e.io("../404.html",{on:{success:function(e,t){r.append(t.response)}}})}function l(e,t){n.addClass("io-loading")}function c(e,t){n.removeClass("io-loading")}function h(t,n){var i;try{i=e.JSON.parse(n.responseText),r.append(a({items:i.article}))}catch(s){}}var t="http://localhost:3000/book/",n=e.one("body"),r=e.one(".data-container"),i=[],s=/\/details\/(.*)/,o=location.pathname.match(s),u=e.one("#list-template").getHTML(),a=e.Handlebars.compile(u);e.on("io:start",l),e.on("io:success",h),e.on("io:failure",f),e.on("io:end",c),o&&o[1]?e.io(t+encodeURIComponent(o[1])):f()});
